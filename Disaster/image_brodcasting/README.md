# 🛡️ PREACT 지능형 안전 관제 시스템

## 개요

sLLM + Hybrid AI 기반 실시간 지능형 안전 관제 시스템입니다. 
CCTV 영상 분석, 위험 상황 탐지, 자동 경보, 보고서 생성 등의 기능을 제공합니다.

## 주요 기능

### 1. 실시간 모니터링
- 📹 다중 카메라 피드 실시간 모니터링
- 🔥 화재 및 연기 자동 감지
- ⚠️ 이상행동 탐지
- 🦺 안전보호구 미착용 감지
- 🌡️ 이상 온도 감지

### 2. AI 분석
- **Hybrid AI 아키텍처**: VLM + YOLO 융합
- **멀티센서 융합**: RGB + IR + UV
- **시계열 분석**: Temporal Fusion Transformer
- **맥락 기반 판단**: 작업 환경 고려

### 3. 자동 대응
- ⚡ 3초 이내 관리자 알림
- 🚨 자동 경보 시스템 (방송, 경광등)
- 📊 실시간 대시보드
- 📝 이벤트 로그 자동 저장

### 4. sLLM 기반 관리
- 💬 자연어 질의응답
- 📈 주간/월간 보고서 자동 생성
- 🔍 사고 이력 검색
- 📚 안전 매뉴얼 즉시 제공

## 시스템 아키텍처

```
┌─────────────────────────────────────────────────────────┐
│                   데이터 수집 계층                        │
├─────────────────────────────────────────────────────────┤
│  🚁 드론 센서  │  📹 CCTV  │  🌡️ IoT 센서             │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│                    AI 분석 계층                          │
├─────────────────────────────────────────────────────────┤
│  👁️ VisionAgent  │  📊 TFT  │  ⚡ EnergyAnalyzer       │
│  💬 sLLM Engine                                          │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│                  대응 및 관제 계층                        │
├─────────────────────────────────────────────────────────┤
│  🎛️ MCP  │  🚨 경보  │  📱 인터페이스  │  📈 대시보드 │
└─────────────────────────────────────────────────────────┘
```

## 설치 및 실행

### 필요 사항
- Python 3.8 이상
- 최신 웹 브라우저 (Chrome, Firefox, Safari)

### 1. 패키지 설치

```bash
cd backend
pip install -r requirements.txt --break-system-packages
```

### 2. 백엔드 서버 시작

```bash
cd backend
python app.py
```

서버가 `http://localhost:5000` 에서 실행됩니다.

### 3. 프론트엔드 실행

웹 브라우저에서 `frontend/dashboard.html` 파일을 열거나,
`http://localhost:5000` 를 통해 접근합니다.

## 사용 방법

### 1. 시스템 시작
1. 대시보드 접속
2. "모니터링 시작" 버튼 클릭
3. 실시간 데이터가 자동으로 수집됩니다

### 2. 실시간 모니터링
- **카메라 상태**: 각 카메라의 활성 상태 확인
- **실시간 경보**: 위험 상황 발생 시 즉시 알림
- **이벤트 테이블**: 감지된 모든 이벤트 목록

### 3. 보고서 생성
- 일일/주간/월간 보고서 자동 생성
- 통계 분석 및 권장사항 제공
- PDF 다운로드 가능 (추후 구현)

### 4. AI 도우미
- 자연어로 질문 입력
- 예: "화재 사고 통계", "안전모 미착용 현황"
- 실시간 답변 제공

## API 엔드포인트

### 카메라 관리
- `GET /api/cameras` - 카메라 목록 조회

### 이벤트 관리
- `GET /api/events?limit=50` - 이벤트 목록 조회
- `GET /api/events?type=fire` - 특정 유형 이벤트 조회

### 경보 관리
- `GET /api/alerts?limit=20` - 경보 목록 조회

### 통계
- `GET /api/statistics` - 시스템 통계 조회

### 모니터링 제어
- `POST /api/monitoring/start` - 모니터링 시작
- `POST /api/monitoring/stop` - 모니터링 중지

### 보고서
- `POST /api/report/generate` - 보고서 생성
  ```json
  {
    "type": "daily" | "weekly" | "monthly"
  }
  ```

### sLLM 질의
- `POST /api/query` - AI 질의응답
  ```json
  {
    "query": "화재 사고 통계"
  }
  ```

## PREACT 통합

### Küçükçekmece Municipality (터키)
- 드론 기반 외부 순찰
- 화재 및 재난 조기 감지
- 시민 참여형 훈련 지원

### Egaleo (그리스)
- 산업단지 안전 모니터링
- 기상-재난 연계 분석
- 실시간 위험도 평가

## 기술 스택

### Backend
- **Python 3.8+**
- **Flask** - REST API 서버
- **Flask-CORS** - CORS 지원

### Frontend
- **HTML5 / CSS3**
- **Vanilla JavaScript**
- **Responsive Design**

### AI/ML (시뮬레이션)
- Visual Language Model (VLM)
- YOLO Object Detection
- Temporal Fusion Transformer
- Small Language Model (sLLM)

## 향후 개발 계획

### Phase 1 (완료)
- ✅ 기본 시스템 아키텍처
- ✅ 실시간 모니터링 대시보드
- ✅ 이벤트 및 경보 관리
- ✅ 보고서 생성 기능
- ✅ sLLM 질의응답

### Phase 2 (예정)
- 🔄 실제 AI 모델 통합
- 🔄 실시간 CCTV 스트리밍
- 🔄 WebSocket 기반 실시간 통신
- 🔄 사용자 인증 및 권한 관리
- 🔄 PDF 보고서 생성

### Phase 3 (예정)
- 📱 모바일 앱 개발
- 🎯 예측 분석 고도화
- 🌐 다국어 지원
- ☁️ 클라우드 배포
- 📊 고급 분석 대시보드

## 라이선스

본 프로젝트는 MIT 라이선스를 따릅니다.

## 문의

프로젝트 관련 문의사항은 이슈를 등록해주세요.

---

**개발**: PREACT 안전 관제 시스템 팀
**버전**: 1.0.0
**최종 업데이트**: 2025-11-04
