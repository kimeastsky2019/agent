<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìì‚° ê´€ë¦¬ - ë¡œê·¸ì¸</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Malgun Gothic', sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 20px; }
        .login-container { background: white; border-radius: 20px; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3); padding: 50px 40px; width: 100%; max-width: 450px; }
        .login-header { text-align: center; margin-bottom: 40px; }
        .login-header h1 { color: #667eea; font-size: 2.2em; margin-bottom: 10px; font-weight: 700; }
        .form-group { margin-bottom: 25px; }
        .form-group label { display: block; margin-bottom: 8px; color: #333; font-weight: 600; }
        .form-group input { width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 10px; font-size: 1em; }
        .login-button { width: 100%; padding: 16px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 10px; font-size: 1.1em; font-weight: 600; cursor: pointer; }
        .error { background: #fee; color: #e74c3c; padding: 15px; border-radius: 10px; margin-bottom: 20px; }
    </style>

    <script>
        let currentLang = localStorage.getItem('language') || 'ko';
        let translations = {};
        
        async function loadTranslations(lang) {
            try {
                const response = await fetch(`/api/translations?lang=${lang}`);
                const data = await response.json();
                translations = data.translations || {};
                currentLang = lang;
                localStorage.setItem('language', lang);
                applyTranslations();
            } catch (error) {
                console.error('Failed to load translations:', error);
            }
        }
        
        function applyTranslations() {
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                const translation = getNestedTranslation(translations, key);
                if (translation) {
                    if (el.tagName === 'INPUT' && el.type === 'placeholder') {
                        el.placeholder = translation;
                    } else {
                        el.textContent = translation;
                    }
                }
            });
        }
        
        function getNestedTranslation(obj, path) {
            return path.split('.').reduce((o, p) => o && o[p], obj);
        }
        
        function changeLanguage(lang) {
            loadTranslations(lang);
        }
        
        loadTranslations(currentLang);
    </script>
</head>
<body>
    <nav class="top-nav" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 15px 20px; color: white; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
        <div style="display: flex; align-items: center; gap: 20px;">
            <a href="/eop" style="color: white; text-decoration: none; font-weight: 600; font-size: 1.2em;">ğŸ  Energy Orchestrator Platform</a>
            <a href="/da" style="color: white; text-decoration: none;">âš¡ ìˆ˜ìš” ë¶„ì„</a>
            <a href="/sa" style="color: white; text-decoration: none;">ğŸ”‹ ê³µê¸‰ ë¶„ì„</a>
            <a href="/dtwin" style="color: white; text-decoration: none;">ğŸ« ë””ì§€í„¸ íŠ¸ìœˆ</a>
            <a href="/disaster" style="color: white; text-decoration: none;">ğŸš¨ ì¬ë‚œ ê´€ë¦¬</a>
        </div>
        <div style="display: flex; align-items: center; gap: 15px;">
            <select id="language-selector" onchange="changeLanguage(this.value)" style="padding: 5px 10px; border-radius: 5px; border: none; background: white; color: #333;">
                <option value="ko">í•œêµ­ì–´</option>
                <option value="en">English</option>
                <option value="ja">æ—¥æœ¬èª</option>
            </select>
        </div>
    </nav>

    <div class="login-container">
        <div class="login-header">
            <h1>ğŸ” ë¡œê·¸ì¸</h1>
        </div>
        {% if error %}
        <div class="error">{{ error }}</div>
        {% endif %}
        <form method="POST">
            <div class="form-group">
                <label for="username">ì´ë©”ì¼</label>
                <input type="email" id="username" name="username" placeholder="info@gngmeta.com" required>
            </div>
            <div class="form-group">
                <label for="password">ë¹„ë°€ë²ˆí˜¸</label>
                <input type="password" id="password" name="password" required>
            </div>
            <button type="submit" class="login-button">ë¡œê·¸ì¸</button>
        </form>
    </div>
</body>
</html>
